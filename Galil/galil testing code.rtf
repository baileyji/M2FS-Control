{\rtf1\ansi\ansicpg1252\cocoartf1038\cocoasubrtf360
{\fonttbl\f0\fswiss\fcharset0 Helvetica;\f1\fmodern\fcharset0 Courier;}
{\colortbl;\red255\green255\blue255;}
\margl1440\margr1440\vieww9000\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural

\f0\fs24 \cf0 DL;\
#AUTO; booted=0;MG "Just Booted"\
#THRD0;a=0;JP#THRD0;\
EN;\
\
#EXQ;'(ProgLine)\
MG "Stack level:",_ZS_ED4\
JP #EXQ1, (booted<>1)\
MG "!Just Booted"\
EN;\
#EXQ1\
MG "EXQ1"\
JP progline\
EN;\
\
#CLRBOOT;booted=0;EN;\
\
#test\
MG ^a, ^b, ^c\
MG "Running in thread:",_ED4\
MG "Stack level:",_ZS_ED4\
EN;\
\
\
#COMINT;\
IF (booted=1);  booted=0; MG "First Command";\
ELSE; MG "Subsequent Command";ENDIF;\
EN1,1;\
\
#T2;\
pos=60000\
SHA;\
IF (_TDA==-60000)\
 PAA=pos;\
ELSE\
 PAA=-pos;\
ENDIF\
 BGA; WT 5000;\
 STA;MCA;MOA;\
 TC1;\
 MG _TSA&$20\
EN;\
\
#return;EN,,(^a+^b);\
\
#THREAD3;\
AT0; WT100;\
JP#THREAD3;\
EN;\
\
#PROG;\
~a=5;\
XQ #THREAD1,1;\
XQ #THREAD2,2;\
MG ~a;\
EN;\
\
\
MT -2.5,-2\
KS*=1\
AG 0, 0\
AQ2,4\
AFB1\
YA 16,16\
YB 400,400\
YC ,44\
AC 98000,30000\
DC 98000,30000\
SP 1100,1100\
CN 1,-1,1,1\
\
DL;\
#POSERR;\
MG "#POSERR";QS;\
RE\
\
\
DL;\
#MCTIME;\
MG "MC Timeout";\
EN1;\
\pard\pardeftab720\ql\qnatural

\f1 \cf0 #PROG;\
TWB=-1;PAB=10000;BGB;\
MCB;\
MG "Done setup.";\
TWB=1000;PAB=0;BGB;\
MCB;\
MG "Done.";\
EN;\
}